(()=>{"use strict";window.addEventListener("DOMContentLoaded",(function(){var e,t,l,a,c,n,o,s,r;o=document.querySelector("#callBtn"),s=document.querySelector(".modal-callback"),r=document.querySelector(".modal-overlay"),o.addEventListener("click",(function(e){e.preventDefault(),s.style.display="inline-block",s.classList.contains("callBackActive")||s.classList.add("callBackActive"),s.classList.contains("callBackDeactivate")&&s.classList.remove("callBackDeactivate"),r.style.display="inline-block"})),document.querySelector(".modal-close"),document.addEventListener("click",(function(e){var t=e.target;(t.closest(".modal-close")||t.closest(".modal-overlay"))&&(e.preventDefault(),s.classList.contains("callBackActive")&&s.classList.remove("callBackActive"),s.classList.contains("callBackDeactivate")||s.classList.add("callBackDeactivate"),setTimeout((function(){s.style.display="none"}),500),r.style.display="none")})),document.querySelector(".top-menu").querySelectorAll("a").forEach((function(e){e.href.replace(/(\#[A-z]+)/gi,(function(t,l){var a=l,c=document.querySelector(a).offsetTop;e.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo(0,c)}))}))})),t=document.querySelector(".top-slider"),l=t.getElementsByClassName("item")[0],a=t.getElementsByClassName("item")[1],c=t.getElementsByClassName("item")[2],n=1,setInterval((function(){n++;var e=window.scrollY;1===n&&(t.prepend(l),window.scrollTo(0,e)),2===n&&(t.prepend(a),window.scrollTo(0,e)),3===n&&(t.prepend(c),window.scrollTo(0,e)),n>3&&(n=0)}),3e3),function(){var e=document.querySelector(".form-control"),t=document.querySelector(".tel");e.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/[^А-Яа-яЁё\s]/gi,""),t.value=t.value.replace(/\s{2,10000}/g," "),t.value=t.value.trim(),t.value=t.value.replace(/([а-я])?[А-Яа-яЁё]*/g,(function(e,t){return t?t.toUpperCase()+e.substr(1):e})),t.value&&(t.value.length<2?t.classList.contains("unactive")||t.classList.add("unactive"):t.value.length>1&&t.classList.contains("unactive")&&t.classList.remove("unactive"))})),t.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/[^0-9+]/gi,"")}));var l=document.createElement("div");l.textContent="Loading...",l.style.cssText="font-size:2em; color:black;",document.querySelector(".sendForm").addEventListener("click",(function(a){a.preventDefault(),document.querySelector('[name="form-callback"]').append(l);var c,n={};n.name=e.value,n.phone=t.value,""!==e.value&&""!==t.value?(c=n,fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).then((function(e){200==e.status&&(console.log(e.status),l.textContent="Completed")})).catch((function(e){l.textContent="Error"})):l.textContent="Error"}))}(),(e=document.querySelector("#scroller")).style.display="None",window.addEventListener("scroll",(function(t){window.scrollY>=400?(e.style.display="BLock",e.classList.add("callBackActive")):e.style.display="None"}))}))})();